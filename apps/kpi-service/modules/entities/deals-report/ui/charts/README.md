# Chart.js компоненты для анализа реализации

## LineChart (linechart.tsx)

Адаптированный компонент линейного графика на основе Chart.js для отображения данных анализа реализации.

### Поддерживаемые типы графиков:

#### 1. `avgSum` - Динамика средней суммы сделок
- **Данные**: Средняя сумма сделок по месяцам
- **Цвет**: Синий (#3b82f6)
- **Формат**: Сумма в рублях

#### 2. `index` - Динамика индексации
- **Данные**: Средняя индексация (изменение цен) по месяцам
- **Цвет**: Зеленый (#22c55e)
- **Формат**: Процент изменения

#### 3. `realization` - Динамика выручки от реализации
- **Данные**: Выручка от успешных сделок по месяцам
- **Цвет**: Фиолетовый (#a855f7)
- **Формат**: Сумма в рублях

#### 4. `combined` - Комбинированный анализ
- **Данные**: Все три метрики на одном графике
- **Цвета**: Синий, зеленый, фиолетовый
- **Формат**: Смешанный (рубли и проценты)

### Использование:

```tsx
import LineChart from './linechart';

// Отдельные графики
<LineChart companies={companiesData} chartType="avgSum" />
<LineChart companies={companiesData} chartType="index" />
<LineChart companies={companiesData} chartType="realization" />

// Комбинированный график
<LineChart companies={companiesData} chartType="combined" />
```

### Параметры:

- `companies`: `OrkReportDealsByCompaniesDto[]` - массив данных о компаниях и сделках
- `chartType`: `'avgSum' | 'index' | 'realization' | 'combined'` - тип графика

## ImplementationLineCharts

Компонент-обертка, который отображает все типы линейных графиков в одном блоке.

### Использование:

```tsx
import { ImplementationLineCharts } from './charts/ImplementationLineCharts';

<ImplementationLineCharts companies={companiesData} />
```

### Особенности:

1. **Адаптивный дизайн**: Графики автоматически подстраиваются под размер контейнера
2. **Интерактивность**: Поддержка hover-эффектов и детальных подсказок
3. **Локализация**: Форматирование чисел в российском стиле
4. **Цветовая схема**: Согласованная палитра для всех типов графиков

### Алгоритм расчета данных:

1. **Группировка по месяцам**: Все сделки группируются по месяцам
2. **Расчет средних значений**:
   - Средняя сумма сделок
   - Средняя индексация (изменение от предыдущей сделки)
   - Выручка от реализации (сумма успешных сделок)
3. **Сортировка**: Данные сортируются по хронологии
4. **Визуализация**: Данные отображаются в виде линейных графиков

### Интеграция:

Компонент автоматически интегрирован в `ImplementationAnalytics` и отображается после основных графиков Recharts.
